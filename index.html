<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LAN Countdown</title>
    <style>
        body {
            background-color: #282c34;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            min-height: 100vh;
            margin: 0;
            transition: background-color 0.1s ease; /* Smooth color transition */
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5em;
        }
        #timer {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 1.5em;
        }
        iframe {
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }
    </style>
</head>
<body>

    <div id="timer"></div>

    <iframe 
        width="560" 
        height="315" 
        src="https://www.youtube.com/embed/Xucw3VPIW84?si=Jt9z0M_d3j5a4VqF" 
        title="YouTube video player" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
        allowfullscreen>
    </iframe>

<script>
    let timerInterval;
    let colorInterval;

    function updateTimer() {
      // Target: 10th October 2025, 12:00 Swedish time (CEST)
      const targetDate = new Date('2025-10-10T12:00:00+02:00');
      const now = new Date();

      let diff = targetDate - now;

      if (diff <= 0) {
        document.getElementById('timer').innerText = "NU Ã„R DET LAN" ;
        if (timerInterval) clearInterval(timerInterval);
        startColorShift();
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      diff -= days * (1000 * 60 * 60 * 24);

      const hours = Math.floor(diff / (1000 * 60 * 60));
      diff -= hours * (1000 * 60 * 60);

      const minutes = Math.floor(diff / (1000 * 60));
      diff -= minutes * (1000 * 60);

      const seconds = Math.floor(diff / 1000);

      const text = `${days} dagar ${hours} timmar ${minutes} minuter ${seconds} sekunder`;
      document.getElementById('timer').innerText = text;
    }

    function startColorShift() {
      if (colorInterval) return; // Already running
      colorInterval = setInterval(() => {
        document.body.style.backgroundColor = getRandomColor();
      }, 100); // Change every 100ms
    }

    function getRandomColor() {
      // Generate a random RGB color
      const r = Math.floor(Math.random() * 256);
      const g = Math.floor(Math.random() * 256);
      const b = Math.floor(Math.random() * 256);
      return `rgb(${r},${g},${b})`;
    }

    // Wait until the entire HTML document is loaded and ready
    document.addEventListener('DOMContentLoaded', () => {
      // Create and add the headline
      const headline = document.createElement('h1');
      headline.innerText = 'Vad ska Tobe bygga?';
      headline.style.cursor = 'pointer';

      headline.addEventListener('click', () => {
        alert('Supply Depots');
      });
      
      document.body.prepend(headline);
      
      // Now that we know the page is loaded, we can safely start the timer.
      timerInterval = setInterval(updateTimer, 1000);
      updateTimer(); // Call it once immediately to prevent a 1-second delay
    });
</script>

</body>
</html>
